<% @trips.each do |trip| %>
  <div class="card-trip" id="trips-index">
    <div class= "card-trip-title">
      <p>User: <%= trip.user.last_name %></p>
    </div>

    <%= link_to trip_path(trip) do %>
      <img class="test" src="<%= asset_path('seedTrip.jpeg') %>" />
    <% end %>

    <div class="card-trip-infos">
      <div class="card-trip-details">
        <h2><%= trip.title.capitalize %></h2>
        <p>Description : <%= trip.description %></p>
      </div>
      <div class="card-trip-user">
        <% if trip.user.image.present? %>
          <%= image_tag trip.user.image.url, class: "avatar-bordered" %>
        <% else %>
          <img src="<%= asset_path('seedUser.jpg') %>" alt="avatar" class="avatar-bordered" />
        <% end %>
      </div>
   <div class="card-trip-like" data-controller="like" data-trip-id="<%= trip.id %>">
  <h2 data-target="like-count"><%= trip.like %></h2>
  <%= link_to like_trip_path(trip), method: :post, remote: true, class: 'like-link', data: { trip_id: trip.id, action: "click->like#like" } do %>
    <i data-target="like-icon" class="fa <%= trip.like&.positive? ? 'fa-solid' : 'fa-regular' %> fa-heart"></i>
  <% end %>
</div>

</div>

       <div class="card-trip-comments">
      <%= render partial: 'comments/comment', collection: trip.comments %>
    </div>
      <div class="comment-bx">
        <%= form_for Comment.new do |f| %>
          <%= f.hidden_field :trip_id, value: trip.id %>
          <div class="input-group">
          <%= f.text_field :content, placeholder: "Add comment here..." , class: "form-control post-comment"%>
          <div class="input-group-append">
          <%= f.submit "Post", class: "btn-post float-right" %>
          </div>
          </div>
        <% end %>
      </div>
    </div>
  </div>
<% end %>
